<main id="main" class="main">
    <div class="pagetitle">
       <h1>Add Article Page</h1>
       <nav>
          <ol class="breadcrumb">
             <li class="breadcrumb-item"><a routerLink="/admin/dashboard">admin</a></li>
             <li class="breadcrumb-item active">add Article</li>
          </ol>
       </nav>
    </div>
    <section class="section">
       <div class="row">
          <div class="col-lg-12">
             <div class="card">
                <div class="card-body">
                   <h5 class="card-title">add Article </h5>
                   
                   <form [formGroup]="articleForm" (onsubmit)="addArticle()" >

                        <div class="row mb-3">
                           <div class="error"  *ngIf=" !title?.value && title?.touched" > required Title </div>
                           <label for="title" class="col-sm-2 col-form-label" > title </label>
                           <div class="col-sm-10"> <input type="text" id="title" maxlength="40" class="form-control" formControlName="title" ></div>
                        </div>

                        <div class="row mb-3">
                           <div class="error" *ngIf=" !description?.value && description?.touched" > required description </div>
                           <label for="description" class="col-sm-2 col-form-label"> description </label>
                           <div class="col-sm-10"> <input type="text" id="description" class="form-control" formControlName="description"></div>
                        </div>
                        
                        <div class="row mb-3">
                           <div class="error" *ngIf=" !content?.value && content?.touched" > required Content </div>
                            <label for="Content" class="col-sm-2 col-form-label"> Content </label>
                            <div class="col-sm-10"><textarea class="form-control" id="Content" style="height: 100px" formControlName="content" ></textarea></div>
                         </div>

                        <div class="row mb-3">
                           <div class="error" *ngIf=" !writerName?.value && writerName?.touched" > required writer Name </div>
                           <label for="writerName" class="col-sm-2 col-form-label">writer Name</label>
                           <div class="col-sm-10"> <input type="text" class="form-control" id="writerName" formControlName="writerName" ></div>
                        </div>

                        <div class="row mb-3">
                           <div class="error" *ngIf=" !categoryName?.value && categoryName?.touched" > required Category </div>
                            <label class="col-sm-2 col-form-label">Select Category</label>
                            <div class="col-sm-10">
                               <select class="form-select" aria-label="Default select example" formControlName="categoryName" >
                                  <option *ngFor="let category of categories" [ngValue]="category.categoryName" > {{ category.categoryName }} </option>
                               </select>
                            </div>
                         </div>

                        <div class="row mb-3">
                           
                           <label for="formFile" class="col-sm-2 col-form-label">Image 1 </label>
                           <div class="col-sm-10"> <input class="form-control" type="file" id="formFile1" (change)="onSelectFile($event , 1)"></div>
                        </div> 
                        
                        <div class="row mb-3">
                        
                            <label for="formFile" class="col-sm-2 col-form-label">Image 2 </label>
                            <div class="col-sm-10"> <input class="form-control" type="file" id="formFile2" (change)="onSelectFile($event , 2)" ></div>
                         </div> 

                         <div class=" mb-3 ">
                            <div class="error" *ngIf="messageError" > {{ messageError }} </div>
                         </div> 
                
                        <div class="mb-3 mt-5">
                           <button [hidden]="loading" class="btn btn-outline-primary" type="button" disabled> <span class="spinner-border spinner-border-sm" 
                              role="status" aria-hidden="true">
                              </span> <span class="visually-hidden">Loading...</span> </button>
                            <button [hidden]="!loading" type="submit" class="btn btn-primary" (click)="addArticle()" [disabled]=" articleForm.invalid || !image1 || !image2 " > add Article </button>
                        </div>

                   </form>

                   <div class="mb-3" *ngIf="imageUrl1">
                     <label for="formFile" class="form-label mx-3 my-3"> First Image preview ( width : 555 , height : 280  ) : </label>
                     <img class="img-fluid" style="width:555px ;height:280px;" [src]="imageUrl1" />
                   </div>

                   <div class="mb-3" *ngIf="imageUrl2">
                    <label for="formFile" class="form-label mx-3 my-3"> Second Image preview ( width : 750 , height : 350 ) : </label>
                    <img class="img-fluid" style="width:750px ;height:350px;"  [src]="imageUrl2" />
                  </div>


                </div>
             </div>
          </div>
       </div>
    </section>
 </main>